<!DOCTYPE html>
<html>
<head>
	<title>Linked Lists</title>
</head>
<body>

</body>
<script>
	let LinkedList = function() {
		this.length = 0;
		this.head = null;
	}

	//best case O(1), avg & worst case O(n)
	LinkedList.prototype.insert = function(index, value) {
		if (index < 0 || index > this.length) {
			throw new Error('Index error');
		}

		let newNode = {
			value: value
		};

		if (index == 0) {
			newNode.next = this.head; //next is null
			this.head = newNode; // head is newNode
		} else {
			let node = this._find(index - 1);
			newNode.next = node.next; //node.next was null but now newNode.next is null
			node.next = newNode; //node.next points to newNode now
		}
		this.length++;
	}

	// avg & worst O(n)
	LinkedList.prototype._find = function(index) {
		let node = this.head;
		for (let i = 0; i < index; i++) {
			node = node.next;
		}
		return node;
	} 

	// avg & worst O(n)
	LinkedList.prototype.get = function(index) {
		if (index < 0 || index >= this.length) {
			throw new Error('Index error');
		}
		return this._find(index).value;
	}

	// best O(1), avg & worst O(n)
	LinkedList.prototype.remove = function(index) {
		if (index < 0 || index >= this.length) {
			throw new Error('Index error');
		}

		if (index == 0) {
			this.head = this.head.next;
		} else {
			let node = this._find(index - 1);
			node.next = node.next.next;
		}
		this.length--;
	}

	let list = new LinkedList();
	for (let i = 0; i < 20; i++) {
		list.insert(i, i);
	}
	console.log(list);

	//
	function middle(list) {
		let tortoise = list.head;
		let hare = list.head;

		while(hare !== null && hare.next !== null) {
			hare = hare.next.next;
			tortoise = tortoise.next;
		}
		return tortoise;
	}
	middle(list);
</script>
</html>